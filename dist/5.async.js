(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{Oz9D:function(t,a,e){"use strict";e.r(a);var s,i,r,h,c=e("MVZn"),n=e.n(c),o=e("q1tI"),l=e.n(o),p=e("3a4m"),d=e.n(p),m=e("Aeqt"),g=e("/MKj"),u=e("SeWN"),y=e("26Al"),T=e("klek"),I=e("KL9C"),D=e("XFKJ"),C=e("e5RA"),O=e("7PoR"),E=e("MKqd"),v=e("qOnn"),f=e("BG9i"),b=e("9pPw"),L=e("m9Hr"),N="list",W=(s=Object(g["c"])(t=>{var a=t.list,e=t.loading;return{list:a,loading:e}}),s((r=class extends o["Component"]{constructor(t){super(t),this.onKeyDown=(t=>{switch(t.keyCode){case 37:d.a.push("/home");break;case 38:d.a.push("/home");break;case 39:break;case 40:break;default:return!1}}),this.getLargeClassData=(()=>{this.props.dispatch({type:"".concat(N,"/largeClassList")})}),this.getCustomerTypeData=(()=>{this.props.dispatch({type:"".concat(N,"/customerList"),payload:{customerBigTypeId:this.state.customerBigTypeId,highOrganId:this.state.highOrganId}})}),this.getNameOrganData=(()=>{this.props.dispatch({type:"".concat(N,"/nameOrganList"),payload:{customerBigTypeId:this.state.customerBigTypeId,customerTypeId:this.state.customerTypeId}})}),this.getlistData=(t=>{this.props.dispatch({type:"".concat(N,"/list"),payload:t})}),this.postListTableData=(t=>{this.props.dispatch({type:"".concat(N,"/listTable"),payload:t})}),this.postChart1Data=(t=>{this.props.dispatch({type:"".concat(N,"/chart1"),payload:t})}),this.postChart5Data=(t=>{this.props.dispatch({type:"".concat(N,"/chart5"),payload:t})}),this.postChart6Data=(t=>{this.props.dispatch({type:"".concat(N,"/chart6"),payload:t})}),this.postChart7Data=(t=>{this.props.dispatch({type:"".concat(N,"/chart7"),payload:t})}),this.postCommissioningData=(t=>{this.props.dispatch({type:"".concat(N,"/commissioningList"),payload:t})}),this.postChart9Data=(t=>{this.props.dispatch({type:"".concat(N,"/chart9"),payload:t})}),this.postChartColData1=(t=>{this.props.dispatch({type:"".concat(N,"/chartcol1"),payload:n()({},t,{chartId:"chart1"})})}),this.postChartColData2=(t=>{this.props.dispatch({type:"".concat(N,"/chartcol2"),payload:n()({},t,{chartId:"chart2"})})}),this.postChartColData3=(t=>{this.props.dispatch({type:"".concat(N,"/chartcol3"),payload:n()({},t,{chartId:"chart3"})})}),this.getApi=(()=>{var t={customerBigTypeId:this.state.customerBigTypeId,customerTypeId:this.state.customerTypeId,highOrganId:this.state.highOrganId};this.getlistData(t),this.postListTableData(t),this.postChart1Data(t),this.postChart5Data(t),this.postChart6Data(t),this.postChart7Data(t),this.postCommissioningData(t),this.postChart9Data(t),this.postChartColData1(t),this.postChartColData2(t),this.postChartColData3(t)}),this.handleSelectLargeClass=((t,a)=>{this.setState({customerBigTypeId:t,customerTypeId:"0000",highOrganId:"0000",customerBigTypeValue:a,customerTypeValue:"\u5168\u90e8",highOrganValue:"\u5168\u90e8",currentIndex:null,isLoading:!0}),setTimeout(()=>{this.getCustomerTypeData(),this.getNameOrganData(),this.getApi()},200),clearTimeout(h),h=setInterval(()=>{this.getApi(),this.setState({isLoading:!1})},this.state.rushTime)}),this.handleSelectCustomerType=((t,a)=>{this.setState({customerTypeId:t,customerTypeValue:a,currentIndex:null,isLoading:!0}),setTimeout(()=>{this.props.dispatch({type:"".concat(N,"/nameOrganList"),payload:{customerBigTypeId:this.state.customerBigTypeId,customerTypeId:this.state.customerTypeId}}).then(t=>{if(200===t.code){if("\u5168\u90e8"!==this.state.highOrganValue||""!==this.state.highOrganValue){var a=!1;this.props.home.NameOrganData.find(t=>{return t.value===this.state.highOrganValue&&(a=!0),!1}),!1===a&&this.setState({highOrganValue:"\u5168\u90e8",highOrganId:"0000"})}this.getApi()}})},20),clearTimeout(h),h=setInterval(()=>{this.getApi(),this.setState({isLoading:!1})},this.state.rushTime)}),this.handleSelectNameOrgan=((t,a)=>{this.setState({highOrganId:t,highOrganValue:a,currentIndex:null,isLoading:!0}),setTimeout(()=>{this.props.dispatch({type:"".concat(N,"/customerList"),payload:{customerBigTypeId:this.state.customerBigTypeId,highOrganId:t}}).then(t=>{if(200===t.code){if("\u5168\u90e8"!==this.state.customerTypeValue||""!==this.state.customerTypeValue){var a=!1;this.props.home.CustomerTypeData.find(t=>{return t.value===this.state.customerTypeValue&&(a=!0),!1}),!1===a&&this.setState({customerTypeValue:"\u5168\u90e8",customerTypeId:"0000"})}this.getApi()}})},20),clearTimeout(h),h=setInterval(()=>{this.getApi(),this.setState({isLoading:!1})},this.state.rushTime)}),this.handleselectTime=((t,a)=>{this.setState({startTime:t,endTime:a,isLoading:!0}),setTimeout(()=>{this.getApi()},200)}),this.handleselectCharts=((t,a,e)=>{var s={customerBigTypeId:this.state.customerBigTypeId,customerTypeId:this.state.customerTypeId,highOrganId:this.state.highOrganId,dataType:this.state.dataType,dataId:this.state.dataId,chartId:t};switch(e){case 5:this.setState({chartId5:t}),this.postChart5Data(s);break;case 6:this.setState({chartId6:t}),this.postChart6Data(s);break;case 7:this.setState({chartId7:t}),this.postChart7Data(s);break;default:return!1}}),this.handleOpenWin=((t,a)=>{var e="&DL="+this.state.customerBigTypeId+"&LX="+this.state.customerTypeId+"&ZQ="+this.state.highOrganId,s="";s=a?"&CZQ="+("highOrgan"===this.props.list.dataType?a:"")+"&CKH="+("customer"===this.props.list.dataType?a:""):"&CZQ=&CKH=";var i=m["a"].site+this.urlEncode(t).substr(1)+e+s,r="height=500,width=1000,top=100,left=100,toolbar=no,menubar=no,scrollbars=no, resizable=no,location=no, status=no";window.open(i,"",r)}),this.urlEncode=((t,a,e)=>{if(null==t)return"";var s="",i=typeof t;if("string"===i||"number"===i||"boolean"===i)s+="&"+a+"="+(null==e||e?encodeURIComponent(t):t);else for(var r in t){var h=null==a?r:a+(t instanceof Array?"["+r+"]":"."+r);s+=this.urlEncode(t[r],h,e)}return s}),this.state={dataType:"",chartType:"",chartId5:"",chartId6:"",chartId7:"",currentIndex:null,dataId:0,customerBigTypeId:"1",customerTypeId:"0000",highOrganId:"0000",customerBigTypeValue:"\u519b\u7528",customerTypeValue:"\u5168\u90e8",highOrganValue:"\u5168\u90e8",startTime:"",endTime:"",isLoading:!0,rushTime:72e5}}componentDidMount(){document.title="\u670d\u52a1\u4fdd\u969c\u7ba1\u63a7\u7cfb\u7edf",this.getLargeClassData(),this.getCustomerTypeData(),this.getNameOrganData(),this.getApi(),document.addEventListener("keydown",this.onKeyDown),h=setInterval(()=>{this.getApi(),this.setState({isLoading:!1})},this.state.rushTime)}componentWillUnmount(){clearTimeout(h),document.removeEventListener("keydown",this.onKeyDown)}render(){var t=this.props,a=t.list,e=t.loading,s=a.LargeClassData,i=a.CustomerTypeData,r=a.NameOrganData,h=a.listTableData,c=a.chart1Data,n=a.chart5Data,o=a.chart6Data,p=a.chart7Data,d=a.commissioningData,m=a.chart9Data,g=a.chartColData1,N=a.chartColData2,W=a.chartColData3,w=this.state,B=w.customerBigTypeId,S=w.customerTypeId,V=w.highOrganId,k=w.isLoading,x=w.chartId5,A=w.chartId6,K=w.chartId7;return l.a.createElement("div",{className:"layout-wrapper"},l.a.createElement("div",{className:"sider-wrapper w20"},l.a.createElement("div",{className:"content"},l.a.createElement("header",{className:"header"},l.a.createElement(u["a"],{customerBigTypeId:B,customerTypeId:S,highOrganId:V,selectLargeClass:this.handleSelectLargeClass,selectNameOrgan:this.handleSelectNameOrgan,selectCustomerType:this.handleSelectCustomerType,LargeClassData:s,CustomerTypeData:i,NameOrganData:r,selectTime:this.handleselectTime})),l.a.createElement("main",{className:"main"},l.a.createElement(T["a"],{loading:!!k&&e.effects["list/listTable"],listData:h,openWin:this.handleOpenWin})))),l.a.createElement("main",{className:"charts-wrapper"},l.a.createElement("div",{className:"charts-scroll"},l.a.createElement("div",{className:"charts-column"},l.a.createElement("div",{className:"charts-box"},l.a.createElement(I["a"],{loading:e.effects["list/chart1"],chartsData:c,openWin:this.handleOpenWin})),l.a.createElement("div",{className:"charts-box"},l.a.createElement(E["a"],{loading:e.effects["list/commissioningList"],chartsData:d,openWin:this.handleOpenWin})),l.a.createElement("div",{className:"charts-box"},l.a.createElement(y["a"],{data:n.selectData,type:5,selectCharts:this.handleselectCharts}),l.a.createElement(D["a"],{loading:e.effects["list/chart5"],chartId:x,chartsData:n.data,openWin:this.handleOpenWin}))),l.a.createElement("div",{className:"charts-big-column"},l.a.createElement("div",{className:"charts-box"},l.a.createElement(f["a"],{loading:e.effects["list/chartcol1"],chartsData:g,openWin:this.handleOpenWin})),l.a.createElement("div",{className:"charts-box"},l.a.createElement(b["a"],{loading:e.effects["list/chartcol2"],chartsData:N,openWin:this.handleOpenWin})),l.a.createElement("div",{className:"charts-box"},l.a.createElement(L["a"],{loading:e.effects["list/chartcol3"],chartsData:W,openWin:this.handleOpenWin}))),l.a.createElement("div",{className:"charts-column"},l.a.createElement("div",{className:"charts-box"},l.a.createElement(y["a"],{data:o.selectData,type:6,selectCharts:this.handleselectCharts}),l.a.createElement(C["a"],{loading:e.effects["list/chart6"],chartId:A,chartsData:o.data,openWin:this.handleOpenWin})),l.a.createElement("div",{className:"charts-box"},l.a.createElement(y["a"],{data:p.selectData,type:7,selectCharts:this.handleselectCharts}),l.a.createElement(O["a"],{loading:e.effects["list/chart7"],chartId:K,chartsData:p.data,openWin:this.handleOpenWin})),l.a.createElement("div",{className:"charts-box"},l.a.createElement(v["a"],{loading:e.effects["list/chart9"],chartsData:m,openWin:this.handleOpenWin}))))))}},i=r))||i);a["default"]=W}}]);